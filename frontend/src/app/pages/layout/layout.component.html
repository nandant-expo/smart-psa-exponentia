<div class="d-flex layout-main-wrapper">

  <!-- For MOBILE and above -->
  <div class="mobile-wrapper" *ngIf="showDiv; else desktopHeader">
    <div class="hamburger-wrapper" (click)="openChatSidebar()">
      <img src="./assets/img/hamburger.svg" />
    
    <div class="icons-wrapper">
      <div class="preview-icon-wrapper" *ngIf="isPreviewIconVisible" (click)="onCitationMobile()">
        <img alt="preview-icon" src="./assets/img/preview-light.svg" />
      </div>
      <div
        class="export-icon-wrapper"
        *ngIf="isExportIconVisible"
        (click)="onExportMobile()"
      >
        <img alt="export-icon" src="./assets/img/export-light.svg" />
      </div>
      <div class="user-icon-wrapper">
        <img alt="export-icon" src="./assets/img/user-light.svg" (click)="mop.toggle($event)" />
        <p-overlayPanel #mop [appendTo]="mobileOverlayPanelContainer">
          <div class="content-wrapper">
            <div class="img-user-wrapper">
              <img alt="user-icon" src="./assets/img/user-dark.svg" />
              <p>Hi, {{ userName }}</p>
            </div>
            <div
              class="search-wrapper"
              (click)="onSearchMobile(mop)"
            >
              Search
            </div>
            <div
              class="new-chat-wrapper"
              (click)="onNewChatMobile(mop)"
            >
              New Chat
            </div>
            <div
              class="logout-wrapper"
              (click)="logout()"
            >
              Logout
            </div>
          </div>
        </p-overlayPanel>
        <div #mobileOverlayPanelContainer></div>
      </div>
    </div>
  </div>
  </div>

    <!-- For LAPTOP and above -->
    <ng-template #desktopHeader>
      <div
        class="d-flex sticky-top nav-block p-2 desktop-wrapper"
      >
          <div class="d-flex nav-box" style="flex: 89%;">
              <div style="width: 18%;">
                  <a class="navbar-brand logo-block" [routerLink]="routeToHome()"  style="position: static;">
                      <!-- <img alt="Logo" src="./assets/img/logo-dark.png" class="img-res-block"/> -->
                      <img alt="Logo" src="./assets/img/logo-2-light-2.png" class="img-res-block"/>
                  </a>
              </div>
              
              <div class="menubar-wrapper" style="margin-right: 25px;">
                  <p-menubar [model]="baritems" class="custom-class" ></p-menubar>
              </div>
          </div>
          <div class="card flex justify-content-center" style="background: lightgray;">
              <div (click)="op.toggle($event)" style="background: lightgray; padding: 10px; cursor: pointer;">
                  <i class="pi pi-user" style="font-size: 30px;"></i>
              </div>
              <p-overlayPanel #op >
                  <div class="d-flex" style="column-gap: 10px;padding: 20px;">
                      <i class="pi pi-user" style="font-size: 30px;"></i> 
                      <div>
                          Hi, {{userName}}
                      </div>
                  </div>
                  <div (click)="logout()" class="menu-links"> Logout</div>
              </p-overlayPanel>
          </div>
  
      </div>
    </ng-template>
    <div class="body-content" >
        <router-outlet></router-outlet>
    </div>

    <!-- For MOBILE and above -->
    <div class="footer-mobile-wrapper">
      <div class="logo-copyright-wrapper">
        <p class="txt-copyright">{{ currentYear }} | Exponentia.ai | All Rights Reserved</p>
      </div>
    </div>

    <!-- For LAPTOP and above -->
    <div class="d-flex justify-content-between align-items-center p-2 footer-desktop-wrapper">
        <div class="img-res-block"></div>
        <div class="d-flex align-items-center justify-content-end">
            <div style="width: 2%;"><img src="./assets/img/copyright.png" style="width: 100%;"></div>
            <div> &nbsp; <span style="font-size: 12px;">{{ currentYear }} | Exponentia.ai | All Rights Reserved </span> </div>
        </div>
    </div>
</div>
